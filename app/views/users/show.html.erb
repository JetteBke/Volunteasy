  <div class="container">
    <div class="panel-heading">
       <h1 class="text-center mt-0"><%= @user.first_name %> <%= @user.last_name %></h1>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  toppad" >
        <%= image_tag @user.photo, :class => "profile-image" %>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  toppad" >


        <div class="panel panel-info">

          <div class="panel-body">
            <div class="row">
              <div class=" col-md-12 col-lg-12 ">
                <table class="table table-user-information">
                  <tbody>
                    <tr>
                      <td>Age:</td>
                      <td><%= Time.zone.now.year - @user.dob.year %></td>
                    </tr>
                    <tr>
                      <td>City:</td>
                      <td><%= @user.city %></td>
                    </tr>
                    <tr>
                      <td>Email:</td>
                      <td><%= @user.email %></td>
                    </tr>
                    <tr>
                     <tr>
                      <td>Phone</td>
                      <td><%= @user.phone %></td>
                    </tr>
                    <tr>
                      <td>Interests:</td>
                      <td><%= @user.interests %></td>
                    </tr>
                    <tr>
                      <td>Bio:</td>
                      <td><%= @user.bio %></td>
                    </tr>
                  </tr>

                </tbody>
              </table>
              <% if current_user == @user %>
              <table>
                <tbody>
                  <tr>
                    <td class="ml-2">
                      <p><%= link_to "Do Good", events_path, class:"btn btn-success float-center" %></p>

                    </td>
                    <td>
                      <% if Organization.where(user:current_user).present? %>
                      <p><%= link_to "Go to Organization", organization_path(@organization), class:"btn-organization-show ml-2"%></p>
                      <% else %>
                      <p><%= link_to "Create organization", new_organization_path, class:"btn-organization-show ml-2" %></p>
                      <% end %>
                    </td>
                    <td>
                      <% if policy(@user).edit? %>
                      <p><%= link_to "Edit profile", edit_user_registration_path, id:"link-organization", class:"ml-2"%></p>
                      <% end %>
                    </td>
                  </tr>
                </tbody>
              </table>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


<div class="container mt-0">
  <% if current_user == @user %>
  <h1 class="text-center">My Bookings</h1>
  <div class="row">
    <% if @bookings.empty? %>
    <div class="row card-background mt-4">
      <p>No Bookings yet</p>
    </div>
    <% else %>

    <% @bookings.each do |booking| %>

    <% if booking.status == "Confirmed"%>


    <div class="card-do-good col-lg-12 col-md-12 col-sm-12">
     <h2 class="text-left">Confirmed</h2>
     <div class="row card-background mt-4">
       <div class="col col-lg-6   mt-3">
         <p class="mb-0"><%= link_to booking.event.title, booking.event %></p>
         Starts at: <%= booking.event.start_at.to_formatted_s(:long_ordinal) %>
         Ends at: <%= booking.event.ends_at.to_formatted_s(:long_ordinal) %>
         <!-- other datetime formats here https://api.rubyonrails.org/classes/DateTime.html -->
       </div>

       <div class="col-md-auto col-lg-6 col-md-8 col-sm-4 mt-3">

        Address: <%= booking.event.address %>

        <p>Spots: <%= booking.event.spots %> </p>
      </div>

      <div class="row card-background ml-0 mr-0">
        <%= booking.event.description %>
        <p>Task: <%= booking.event.task %></p>
      </div>
    </div>
  </div>

  <!-- add background colors to the booking status -->


  <% elsif booking.status == "Completed" %>

  <div class="card-do-good col-lg-12 col-md-12 col-sm-12">
   <div class="row">
    <div class="col">
     <h2 class="text-left">Completed</h2>
   </div>
   <div class="col col-lg-4 mt-2 mb-0">
    <% if Review.where(booking_id:booking.id).any? %>
    <p>You already gave a review. Thank you!</p>
    <% else %>
    <%= link_to "Write Review", new_booking_review_path(booking), class:"btn btn-completed float-right" %>
    <% end %>
  </div>
</div>
<div class="row card-background mt-4">
 <div class="col col-lg-6   mt-3">
   <p class="mb-0"><%= link_to booking.event.title, booking.event %></p>
   Starts at: <%= booking.event.start_at.to_formatted_s(:long_ordinal) %>
   Ends at: <%= booking.event.ends_at.to_formatted_s(:long_ordinal) %>
   <!-- other datetime formats here https://api.rubyonrails.org/classes/DateTime.html -->
 </div>

 <div class="col-md-auto col-lg-6 col-md-8 col-sm-4 mt-3">

  Address: <%= booking.event.address %>

  <%= booking.event.spots %>
</div>

<div class="row card-background ml-0 mr-0">
  <%= booking.event.description %>
  <p>Task: <%= booking.event.task %></p>
</div>
</div>

<div class="col-md-auto col-lg-6 col-md-8 col-sm-4 mt-3">

  Address: <%= booking.event.address %>

  <%= booking.event.spots %>
</div>

<div class="row card-background ml-0 mr-0">
  <%= booking.event.description %>
  <p>Task: <%= booking.event.task %></p>
</div>
</div>


<% elsif booking.status == "Pending" %>


<!-- HEEEEEEEEREEEEEEEEEE -->
<div class="card-do-good col-lg-12 col-md-12 col-sm-12">
  <div class="row">
   <div class="col">
     <h2 class="text-left">Pending</h2>
   </div>
   <div class="col col-lg-4 mt-2 mb-2">
    <%= link_to 'Cancel Booking', booking, data: {:confirm => 'Are you sure?'}, method: :delete, class:" btn btn-cancelled btn-warning float-right" %>
  </div>
</div>
<div class="row card-background mt-4">
 <div class="col col-lg-4   mt-3">
   <p class="mb-0"><%= link_to booking.event.title, booking.event %></p>
   Starts at: <%= booking.event.start_at.to_formatted_s(:long_ordinal) %>
   Ends at: <%= booking.event.ends_at.to_formatted_s(:long_ordinal) %>
   <!-- other datetime formats here https://api.rubyonrails.org/classes/DateTime.html -->
 </div>

 <div class="col-md-auto col-lg-4 col-md-8 col-sm-4 mt-3">

  Address: <%= booking.event.address %>

  <%= booking.event.spots %>
</div>

<div class="row card-background ml-0 mr-0">
  <%= booking.event.description %>
  <p>Task: <%= booking.event.task %></p>
</div>
</div>
</div>



<% elsif booking.status == "Rejected" %>

<div class="card-do-good col-lg-12 col-md-12 col-sm-12">
  <h2 class="text-left">Rejected</h2>
  <div class="row card-background mt-4">
   <div class="col col-lg-4   mt-3">
     <p class="mb-0"><%= link_to booking.event.title, booking.event %></p>
     Starts at: <%= booking.event.start_at.to_formatted_s(:long_ordinal) %>
     Ends at: <%= booking.event.ends_at.to_formatted_s(:long_ordinal) %>
     <!-- other datetime formats here https://api.rubyonrails.org/classes/DateTime.html -->
   </div>

   <div class="col-md-auto col-lg-4 col-md-8 col-sm-4 mt-3">

    Address: <%= booking.event.address %>

    <%= booking.event.spots %>
  </div>
  <div class="col col-lg-4 mt-2 mb-0">
    <p class="btn float-right btn-rejected"><%= booking.status %></p>
  </div>

</div>
</div>


              <%#= link_to 'Delete Booking', current_user_path,
              data: {:confirm => 'Are you sure?'}, :method => :delete %>

              <% elsif booking.status == "Cancelled" %>


              <div class="card-do-good col-lg-12 col-md-12 col-sm-12">
                <h2 class="text-left">Cancelled</h2>
                <div class="row card-background mt-4">
                 <div class="col col-lg-6   mt-3">
                   <p class="mb-0"><%= link_to booking.event.title, booking.event %></p>
                   Starts at: <%= booking.event.start_at.to_formatted_s(:long_ordinal) %>
                   Ends at: <%= booking.event.ends_at.to_formatted_s(:long_ordinal) %>
                   <!-- other datetime formats here https://api.rubyonrails.org/classes/DateTime.html -->
                 </div>

                 <div class="col-md-auto col-lg-6 col-md-8 col-sm-4 mt-3">

                  Address: <%= booking.event.address %>

                  <%= booking.event.spots %>
                </div>


              </div>
            </div>

            <% end %>
            <% end %>
            <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
</div>
